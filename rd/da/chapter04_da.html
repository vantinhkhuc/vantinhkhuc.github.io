<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài giảng Phân tích Dữ liệu - Clustering</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .presentation {
            width: 100%;
            max-width: 1200px;
            aspect-ratio: 16/9;
            background: white;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            padding: 50px;
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            position: absolute;
            top: 0;
            left: 0;
            overflow-y: auto;
        }
        
        .slide.active {
            display: flex;
        }
        
        .slide-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
        }
        
        .slide-title h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        
        .slide-title p {
            font-size: 1.5em;
            opacity: 0.9;
        }
        
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 4px solid #764ba2;
            padding-bottom: 10px;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        
        .content {
            font-size: 1em;
            line-height: 1.6;
            color: #333;
        }
        
        .content ul {
            list-style: none;
            padding-left: 0;
        }
        
        .content li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .content li:before {
            content: "▸";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .formula {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #667eea;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }
        
        .note {
            background: #fff3cd;
            padding: 12px;
            border-radius: 8px;
            border-left: 5px solid #ffc107;
            margin: 15px 0;
            font-style: italic;
            font-size: 0.95em;
        }
        
        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        
        .card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-top: 4px solid #667eea;
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .slide-number {
            position: absolute;
            bottom: 20px;
            right: 30px;
            color: #999;
            font-size: 1em;
            z-index: 10;
        }
        
        .section-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-size: 1.2em;
            text-align: center;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.85em;
        }
        
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 2px solid #ddd;
        }
        
        th {
            background: #667eea;
            color: white;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Slide 1 -->
        <div class="slide active slide-title">
            <h1>Phân Tích Dữ Liệu</h1>
            <p>Clustering & Kỹ năng Data Science</p>
            <p style="font-size: 1.2em; margin-top: 30px;">Giảng viên: Phạm Thanh Tùng</p>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <div class="section-header">PHẦN 1: CÁC PHƯƠNG PHÁP ĐÁNH GIÁ SỐ CLUSTER</div>
            <h2>1. Tổng quan về đánh giá số cluster</h2>
            <div class="content">
                <p>Một trong những thách thức lớn nhất trong clustering là xác định số lượng cluster tối ưu (k).</p>
                <h3>Tại sao cần đánh giá số cluster?</h3>
                <ul>
                    <li>Không có ground truth trong unsupervised learning</li>
                    <li>Số cluster ảnh hưởng trực tiếp đến chất lượng phân cụm</li>
                    <li>Quá ít cluster: underfitting, mất thông tin chi tiết</li>
                    <li>Quá nhiều cluster: overfitting, khó diễn giải</li>
                </ul>
                <div class="note">
                    <strong>Lưu ý:</strong> Không có phương pháp nào là hoàn hảo tuyệt đối. Nên kết hợp nhiều phương pháp và kiến thức domain.
                </div>
            </div>
        </div>

        <!-- Slide 3: Visual comparison -->
        <div class="slide">
            <h2>2. So sánh số cluster khác nhau</h2>
            <div class="content">
                <h3>Minh họa ảnh hưởng của số cluster</h3>
                <div class="grid-2" style="margin-top: 20px;">
                    <div class="card">
                        <strong>k = 2 (Quá ít)</strong>
                        <svg width="100%" height="180" style="background: #f8f9fa;">
                            <circle cx="60" cy="60" r="35" fill="#667eea" opacity="0.3"/>
                            <circle cx="180" cy="120" r="35" fill="#764ba2" opacity="0.3"/>
                            <circle cx="50" cy="50" r="4" fill="#667eea"/>
                            <circle cx="60" cy="70" r="4" fill="#667eea"/>
                            <circle cx="70" cy="55" r="4" fill="#667eea"/>
                            <circle cx="170" cy="110" r="4" fill="#764ba2"/>
                            <circle cx="190" cy="130" r="4" fill="#764ba2"/>
                            <circle cx="180" cy="115" r="4" fill="#764ba2"/>
                            <circle cx="120" cy="90" r="4" fill="#667eea"/>
                            <circle cx="110" cy="100" r="4" fill="#764ba2"/>
                        </svg>
                        <p style="font-size: 0.85em; margin-top: 10px;">Mất chi tiết, nhóm quá rộng</p>
                    </div>
                    <div class="card">
                        <strong>k = 8 (Quá nhiều)</strong>
                        <svg width="100%" height="180" style="background: #f8f9fa;">
                            <circle cx="40" cy="40" r="20" fill="#667eea" opacity="0.3"/>
                            <circle cx="90" cy="45" r="20" fill="#764ba2" opacity="0.3"/>
                            <circle cx="140" cy="50" r="20" fill="#f093fb" opacity="0.3"/>
                            <circle cx="190" cy="45" r="20" fill="#84fab0" opacity="0.3"/>
                            <circle cx="60" cy="110" r="20" fill="#ffd89b" opacity="0.3"/>
                            <circle cx="110" cy="115" r="20" fill="#a8edea" opacity="0.3"/>
                            <circle cx="160" cy="120" r="20" fill="#fed6e3" opacity="0.3"/>
                            <circle cx="210" cy="115" r="20" fill="#c1dfc4" opacity="0.3"/>
                            <circle cx="40" cy="40" r="3" fill="#667eea"/>
                            <circle cx="90" cy="45" r="3" fill="#764ba2"/>
                            <circle cx="140" cy="50" r="3" fill="#f093fb"/>
                            <circle cx="190" cy="45" r="3" fill="#84fab0"/>
                            <circle cx="60" cy="110" r="3" fill="#ffd89b"/>
                            <circle cx="110" cy="115" r="3" fill="#a8edea"/>
                            <circle cx="160" cy="120" r="3" fill="#fed6e3"/>
                            <circle cx="210" cy="115" r="3" fill="#c1dfc4"/>
                        </svg>
                        <p style="font-size: 0.85em; margin-top: 10px;">Overfitting, khó diễn giải</p>
                    </div>
                </div>
                <div class="card" style="margin-top: 20px; background: #e8f5e9;">
                    <strong>k = 4 (Optimal)</strong> - Cân bằng giữa chi tiết và khả năng diễn giải
                </div>
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <h2>3. Elbow Method - Lý thuyết</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>Tìm điểm "khuỷu tay" (elbow) trên biểu đồ giữa số cluster và WCSS (Within-Cluster Sum of Squares)</p>
                
                <div class="formula">
                    WCSS = Σ(i=1 to k) Σ(x ∈ Ci) ||x - μi||²
                    <br><br>
                    k: số cluster | Ci: cluster thứ i | μi: centroid của cluster i
                </div>
                
                <h3>Cách thực hiện</h3>
                <ul>
                    <li>Chạy K-means với k từ 1 đến n</li>
                    <li>Tính WCSS cho mỗi k</li>
                    <li>Vẽ biểu đồ k vs WCSS</li>
                    <li>Chọn k tại điểm "khuỷu tay" - nơi đường cong bắt đầu phẳng</li>
                </ul>
            </div>
        </div>

        <!-- Slide 5: Elbow visualization -->
        <div class="slide">
            <h2>4. Elbow Method - Minh họa</h2>
            <div class="content">
                <h3>Biểu đồ Elbow Method</h3>
                <svg width="100%" height="300" style="background: white; border: 2px solid #ddd; border-radius: 8px;">
                    <!-- Axes -->
                    <line x1="50" y1="250" x2="550" y2="250" stroke="#333" stroke-width="2"/>
                    <line x1="50" y1="250" x2="50" y2="30" stroke="#333" stroke-width="2"/>
                    
                    <!-- X-axis labels -->
                    <text x="100" y="270" font-size="14" text-anchor="middle">1</text>
                    <text x="175" y="270" font-size="14" text-anchor="middle">2</text>
                    <text x="250" y="270" font-size="14" text-anchor="middle">3</text>
                    <text x="325" y="270" font-size="14" text-anchor="middle">4</text>
                    <text x="400" y="270" font-size="14" text-anchor="middle">5</text>
                    <text x="475" y="270" font-size="14" text-anchor="middle">6</text>
                    <text x="300" y="295" font-size="16" text-anchor="middle" font-weight="bold">Số cluster (k)</text>
                    
                    <!-- Y-axis label -->
                    <text x="20" y="140" font-size="16" text-anchor="middle" transform="rotate(-90, 20, 140)" font-weight="bold">WCSS</text>
                    
                    <!-- Elbow curve -->
                    <polyline points="100,80 175,120 250,155 325,175 400,185 475,190" 
                              fill="none" stroke="#667eea" stroke-width="3"/>
                    
                    <!-- Points -->
                    <circle cx="100" cy="80" r="5" fill="#667eea"/>
                    <circle cx="175" cy="120" r="5" fill="#667eea"/>
                    <circle cx="250" cy="155" r="5" fill="#667eea"/>
                    <circle cx="325" cy="175" r="8" fill="#f5576c" stroke="#fff" stroke-width="2"/>
                    <circle cx="400" cy="185" r="5" fill="#667eea"/>
                    <circle cx="475" cy="190" r="5" fill="#667eea"/>
                    
                    <!-- Elbow indicator -->
                    <text x="325" y="155" font-size="14" fill="#f5576c" font-weight="bold">← Elbow</text>
                    <line x1="325" y1="160" x2="325" y2="170" stroke="#f5576c" stroke-width="2"/>
                </svg>
                <div class="note" style="margin-top: 20px;">
                    <strong>Điểm Elbow tại k=4:</strong> Sau điểm này, giảm WCSS không đáng kể. Chọn k=4 là tối ưu.
                </div>
            </div>
        </div>

        <!-- Slide 6 -->
        <div class="slide">
            <h2>5. Silhouette Score - Lý thuyết</h2>
            <div class="content">
                <h3>Định nghĩa</h3>
                <p>Đo lường mức độ tương đồng của một điểm dữ liệu với cluster của nó so với các cluster khác.</p>
                
                <div class="formula">
                    s(i) = (b(i) - a(i)) / max(a(i), b(i))
                    <br><br>
                    a(i): khoảng cách TB từ điểm i đến các điểm khác trong cùng cluster
                    <br>b(i): khoảng cách TB từ điểm i đến các điểm trong cluster gần nhất
                    <br><br>
                    Giá trị: -1 đến 1 (càng cao càng tốt)
                </div>
                
                <h3>Diễn giải giá trị</h3>
                <ul>
                    <li><strong>s(i) ≈ 1:</strong> Điểm được phân cụm rất tốt, xa các cluster khác</li>
                    <li><strong>s(i) ≈ 0:</strong> Điểm nằm giữa 2 cluster</li>
                    <li><strong>s(i) < 0:</strong> Điểm có thể bị phân cụm sai</li>
                </ul>
            </div>
        </div>

        <!-- Slide 7: Silhouette visualization -->
        <div class="slide">
            <h2>6. Silhouette Score - Minh họa</h2>
            <div class="content">
                <h3>Silhouette Plot cho k = 3</h3>
                <svg width="100%" height="280" style="background: white; border: 2px solid #ddd; border-radius: 8px;">
                    <!-- Cluster 1 bars -->
                    <text x="20" y="40" font-size="14" font-weight="bold" fill="#667eea">Cluster 1</text>
                    <rect x="100" y="25" width="250" height="8" fill="#667eea" opacity="0.8"/>
                    <rect x="100" y="35" width="270" height="8" fill="#667eea" opacity="0.8"/>
                    <rect x="100" y="45" width="240" height="8" fill="#667eea" opacity="0.8"/>
                    <rect x="100" y="55" width="260" height="8" fill="#667eea" opacity="0.8"/>
                    <rect x="100" y="65" width="255" height="8" fill="#667eea" opacity="0.8"/>
                    
                    <!-- Cluster 2 bars -->
                    <text x="20" y="105" font-size="14" font-weight="bold" fill="#764ba2">Cluster 2</text>
                    <rect x="100" y="90" width="280" height="8" fill="#764ba2" opacity="0.8"/>
                    <rect x="100" y="100" width="290" height="8" fill="#764ba2" opacity="0.8"/>
                    <rect x="100" y="110" width="275" height="8" fill="#764ba2" opacity="0.8"/>
                    <rect x="100" y="120" width="285" height="8" fill="#764ba2" opacity="0.8"/>
                    
                    <!-- Cluster 3 bars -->
                    <text x="20" y="160" font-size="14" font-weight="bold" fill="#f093fb">Cluster 3</text>
                    <rect x="100" y="145" width="230" height="8" fill="#f093fb" opacity="0.8"/>
                    <rect x="100" y="155" width="220" height="8" fill="#f093fb" opacity="0.8"/>
                    <rect x="100" y="165" width="240" height="8" fill="#f093fb" opacity="0.8"/>
                    <rect x="100" y="175" width="235" height="8" fill="#f093fb" opacity="0.8"/>
                    <rect x="100" y="185" width="225" height="8" fill="#f093fb" opacity="0.8"/>
                    <rect x="100" y="195" width="245" height="8" fill="#f093fb" opacity="0.8"/>
                    
                    <!-- Axis -->
                    <line x1="100" y1="210" x2="400" y2="210" stroke="#333" stroke-width="2"/>
                    <text x="100" y="230" font-size="12">0</text>
                    <text x="250" y="230" font-size="12">0.5</text>
                    <text x="400" y="230" font-size="12">1.0</text>
                    <text x="250" y="250" font-size="14" text-anchor="middle" font-weight="bold">Silhouette Score</text>
                    
                    <!-- Average line -->
                    <line x1="330" y1="20" x2="330" y2="205" stroke="#f5576c" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="335" y="15" font-size="12" fill="#f5576c" font-weight="bold">Avg: 0.68</text>
                </svg>
                <div class="note" style="margin-top: 15px;">
                    <strong>Cluster tốt:</strong> Bars dài và đồng đều. <strong>Cluster 2</strong> có Silhouette cao nhất.
                </div>
            </div>
        </div>

        <!-- Slide 5 -->
        <div class="slide">
            <h2>7. Davies-Bouldin Index (DBI)</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>Đo lường tỉ lệ giữa độ phân tán trong cluster và khoảng cách giữa các cluster.</p>
                
                <div class="formula">
                    DB = (1/k) × Σ(i=1 to k) max(i≠j) [(σi + σj) / d(ci, cj)]
                    <br><br>
                    σi: độ phân tán TB trong cluster i
                    <br>d(ci, cj): khoảng cách giữa centroid của cluster i và j
                    <br><br>
                    Giá trị thấp hơn là tốt hơn (tối thiểu là 0)
                </div>
                
                <h3>Đặc điểm</h3>
                <ul>
                    <li>Không cần ground truth</li>
                    <li>Tính toán nhanh</li>
                    <li>Nhạy với outliers</li>
                    <li>Chỉ áp dụng cho cluster hình cầu</li>
                </ul>
            </div>
        </div>

        <!-- Slide 10 -->
        <div class="slide">
            <h2>9. Calinski-Harabasz Index</h2>
            <div class="content">
                <h3>Công thức</h3>
                <div class="formula">
                    CH = [Tr(Bk) / (k-1)] / [Tr(Wk) / (n-k)]
                    <br><br>
                    Bk: ma trận phân tán giữa các cluster
                    <br>Wk: ma trận phân tán trong cluster
                    <br>n: số điểm dữ liệu | k: số cluster
                    <br><br>
                    Giá trị cao hơn là tốt hơn
                </div>
                
                <h3>Ưu điểm</h3>
                <ul>
                    <li>Tính toán nhanh và đơn giản</li>
                    <li>Hiệu quả với cluster có mật độ khác nhau</li>
                    <li>Phù hợp với large datasets</li>
                </ul>
            </div>
        </div>

        <!-- Slide 11: CH Index comparison chart -->
        <div class="slide">
            <h2>10. CH Index - So sánh các k</h2>
            <div class="content">
                <h3>Biểu đồ CH Index theo số cluster</h3>
                <svg width="100%" height="300" style="background: white; border: 2px solid #ddd; border-radius: 8px;">
                    <!-- Axes -->
                    <line x1="50" y1="250" x2="550" y2="250" stroke="#333" stroke-width="2"/>
                    <line x1="50" y1="250" x2="50" y2="30" stroke="#333" stroke-width="2"/>
                    
                    <!-- X-axis labels -->
                    <text x="100" y="270" font-size="14" text-anchor="middle">2</text>
                    <text x="200" y="270" font-size="14" text-anchor="middle">3</text>
                    <text x="300" y="270" font-size="14" text-anchor="middle">4</text>
                    <text x="400" y="270" font-size="14" text-anchor="middle">5</text>
                    <text x="500" y="270" font-size="14" text-anchor="middle">6</text>
                    <text x="300" y="295" font-size="16" text-anchor="middle" font-weight="bold">Số cluster (k)</text>
                    
                    <!-- Y-axis label -->
                    <text x="20" y="140" font-size="16" text-anchor="middle" transform="rotate(-90, 20, 140)" font-weight="bold">CH Score</text>
                    
                    <!-- Bars -->
                    <rect x="80" y="180" width="40" height="70" fill="#667eea" opacity="0.7"/>
                    <rect x="180" y="130" width="40" height="120" fill="#667eea" opacity="0.7"/>
                    <rect x="280" y="90" width="40" height="160" fill="#f5576c" opacity="0.9"/>
                    <rect x="380" y="140" width="40" height="110" fill="#667eea" opacity="0.7"/>
                    <rect x="480" y="170" width="40" height="80" fill="#667eea" opacity="0.7"/>
                    
                    <!-- Values -->
                    <text x="100" y="170" font-size="12" text-anchor="middle" font-weight="bold">156</text>
                    <text x="200" y="120" font-size="12" text-anchor="middle" font-weight="bold">287</text>
                    <text x="300" y="80" font-size="12" text-anchor="middle" font-weight="bold" fill="#f5576c">412</text>
                    <text x="400" y="130" font-size="12" text-anchor="middle" font-weight="bold">265</text>
                    <text x="500" y="160" font-size="12" text-anchor="middle" font-weight="bold">198</text>
                    
                    <!-- Best indicator -->
                    <text x="300" y="65" font-size="14" fill="#f5576c" font-weight="bold" text-anchor="middle">★ Optimal</text>
                </svg>
                <div class="note" style="margin-top: 15px;">
                    <strong>k = 4 có CH Index cao nhất:</strong> Cluster tách biệt tốt nhất, gọn trong từng nhóm.
                </div>
            </div>
        </div>

        <!-- Slide 12 -->
        <div class="slide">
            <h2>11. Gap Statistic</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>So sánh tổng phân tán trong cluster với phân tán kỳ vọng của dữ liệu ngẫu nhiên.</p>
                
                <div class="formula">
                    Gap(k) = E[log(Wk)] - log(Wk)
                    <br><br>
                    E[log(Wk)]: kỳ vọng của log(Wk) từ dữ liệu tham chiếu
                    <br>Wk: tổng phân tán trong cluster
                    <br><br>
                    Chọn k nhỏ nhất: Gap(k) ≥ Gap(k+1) - s(k+1)
                </div>
                
                <h3>Quy trình</h3>
                <ul>
                    <li>Tính Wk cho dữ liệu thực với mỗi k</li>
                    <li>Sinh B bộ dữ liệu tham chiếu ngẫu nhiên</li>
                    <li>Tính Wk cho mỗi bộ dữ liệu tham chiếu</li>
                    <li>Tính Gap statistic và độ lệch chuẩn</li>
                </ul>
            </div>
        </div>

        <!-- Slide 13: Gap Statistic visualization -->
        <div class="slide">
            <h2>12. Gap Statistic - Minh họa</h2>
            <div class="content">
                <h3>Biểu đồ Gap Statistic với Error Bars</h3>
                <svg width="100%" height="300" style="background: white; border: 2px solid #ddd; border-radius: 8px;">
                    <!-- Axes -->
                    <line x1="50" y1="240" x2="550" y2="240" stroke="#333" stroke-width="2"/>
                    <line x1="50" y1="240" x2="50" y2="30" stroke="#333" stroke-width="2"/>
                    
                    <!-- X-axis -->
                    <text x="100" y="260" font-size="14" text-anchor="middle">1</text>
                    <text x="175" y="260" font-size="14" text-anchor="middle">2</text>
                    <text x="250" y="260" font-size="14" text-anchor="middle">3</text>
                    <text x="325" y="260" font-size="14" text-anchor="middle">4</text>
                    <text x="400" y="260" font-size="14" text-anchor="middle">5</text>
                    <text x="475" y="260" font-size="14" text-anchor="middle">6</text>
                    <text x="300" y="285" font-size="16" text-anchor="middle" font-weight="bold">Số cluster (k)</text>
                    
                    <!-- Y-axis -->
                    <text x="20" y="135" font-size="16" text-anchor="middle" transform="rotate(-90, 20, 135)" font-weight="bold">Gap(k)</text>
                    
                    <!-- Gap curve -->
                    <polyline points="100,200 175,150 250,110 325,100 400,105 475,108" 
                              fill="none" stroke="#667eea" stroke-width="3"/>
                    
                    <!-- Points with error bars -->
                    <line x1="100" y1="210" x2="100" y2="190" stroke="#999" stroke-width="1.5"/>
                    <line x1="175" y1="160" x2="175" y2="140" stroke="#999" stroke-width="1.5"/>
                    <line x1="250" y1="120" x2="250" y2="100" stroke="#999" stroke-width="1.5"/>
                    <line x1="325" y1="110" x2="325" y2="90" stroke="#999" stroke-width="1.5"/>
                    <line x1="400" y1="115" x2="400" y2="95" stroke="#999" stroke-width="1.5"/>
                    <line x1="475" y1="118" x2="475" y2="98" stroke="#999" stroke-width="1.5"/>
                    
                    <circle cx="100" cy="200" r="5" fill="#667eea"/>
                    <circle cx="175" cy="150" r="5" fill="#667eea"/>
                    <circle cx="250" cy="110" r="5" fill="#667eea"/>
                    <circle cx="325" cy="100" r="8" fill="#f5576c" stroke="#fff" stroke-width="2"/>
                    <circle cx="400" cy="105" r="5" fill="#667eea"/>
                    <circle cx="475" cy="108" r="5" fill="#667eea"/>
                    
                    <!-- Optimal marker -->
                    <text x="325" y="80" font-size="14" fill="#f5576c" font-weight="bold" text-anchor="middle">Optimal k=4</text>
                    <line x1="325" y1="85" x2="325" y2="95" stroke="#f5576c" stroke-width="2"/>
                </svg>
                <div class="note" style="margin-top: 15px;">
                    <strong>k=4 thỏa mãn:</strong> Gap(4) ≥ Gap(5) - s(5). Gap tăng mạnh đến k=4, sau đó ổn định.
                </div>
            </div>
        </div>

        <!-- Slide 14 -->
        <div class="slide">
            <h2>13. BIC & AIC - Information Criteria</h2>
            <div class="content">
                <h3>Bayesian Information Criterion (BIC)</h3>
                <div class="formula">
                    BIC = -2 × log(L) + p × log(n)
                    <br><br>
                    L: likelihood | p: số tham số | n: số điểm dữ liệu
                    <br>Giá trị BIC thấp hơn là tốt hơn
                </div>
                
                <h3>Akaike Information Criterion (AIC)</h3>
                <div class="formula">
                    AIC = 2p - 2 × log(L)
                    <br>AICc = AIC + [2p(p+1)] / [n-p-1]  (hiệu chỉnh)
                </div>
                
                <div class="grid-2" style="margin-top: 15px;">
                    <div class="card">
                        <h3>BIC</h3>
                        <ul style="font-size: 0.85em;">
                            <li>Penalty mạnh hơn</li>
                            <li>Ưu tiên model đơn giản</li>
                            <li>Tốt với n lớn</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>AIC</h3>
                        <ul style="font-size: 0.85em;">
                            <li>Penalty nhẹ hơn</li>
                            <li>Tốt cho prediction</li>
                            <li>Phù hợp n nhỏ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: BIC/AIC comparison -->
        <div class="slide">
            <h2>14. BIC vs AIC - So sánh</h2>
            <div class="content">
                <h3>Biểu đồ BIC và AIC theo số cluster</h3>
                <svg width="100%" height="300" style="background: white; border: 2px solid #ddd; border-radius: 8px;">
                    <!-- Axes -->
                    <line x1="50" y1="240" x2="550" y2="240" stroke="#333" stroke-width="2"/>
                    <line x1="50" y1="240" x2="50" y2="30" stroke="#333" stroke-width="2"/>
                    
                    <!-- Labels -->
                    <text x="100" y="260" font-size="14" text-anchor="middle">2</text>
                    <text x="200" y="260" font-size="14" text-anchor="middle">3</text>
                    <text x="300" y="260" font-size="14" text-anchor="middle">4</text>
                    <text x="400" y="260" font-size="14" text-anchor="middle">5</text>
                    <text x="500" y="260" font-size="14" text-anchor="middle">6</text>
                    <text x="300" y="285" font-size="16" text-anchor="middle" font-weight="bold">Số cluster (k)</text>
                    <text x="20" y="135" font-size="16" text-anchor="middle" transform="rotate(-90, 20, 135)" font-weight="bold">IC Value</text>
                    
                    <!-- BIC curve (lower, more penalty) -->
                    <polyline points="100,180 200,140 300,120 400,125 500,135" 
                              fill="none" stroke="#667eea" stroke-width="3"/>
                    <circle cx="100" cy="180" r="5" fill="#667eea"/>
                    <circle cx="200" cy="140" r="5" fill="#667eea"/>
                    <circle cx="300" cy="120" r="7" fill="#667eea"/>
                    <circle cx="400" cy="125" r="5" fill="#667eea"/>
                    <circle cx="500" cy="135" r="5" fill="#667eea"/>
                    
                    <!-- AIC curve (allows more clusters) -->
                    <polyline points="100,190 200,155 300,140 400,138 500,142" 
                              fill="none" stroke="#764ba2" stroke-width="3" stroke-dasharray="5,5"/>
                    <circle cx="100" cy="190" r="5" fill="#764ba2"/>
                    <circle cx="200" cy="155" r="5" fill="#764ba2"/>
                    <circle cx="300" cy="140" r="5" fill="#764ba2"/>
                    <circle cx="400" cy="138" r="7" fill="#764ba2"/>
                    <circle cx="500" cy="142" r="5" fill="#764ba2"/>
                    
                    <!-- Legend -->
                    <line x1="420" y1="60" x2="460" y2="60" stroke="#667eea" stroke-width="3"/>
                    <text x="470" y="65" font-size="14" fill="#667eea" font-weight="bold">BIC (k=4)</text>
                    
                    <line x1="420" y1="80" x2="460" y2="80" stroke="#764ba2" stroke-width="3" stroke-dasharray="5,5"/>
                    <text x="470" y="85" font-size="14" fill="#764ba2" font-weight="bold">AIC (k=5)</text>
                </svg>
                <div class="note" style="margin-top: 15px;">
                    <strong>BIC chọn k=4</strong> (simple model), <strong>AIC chọn k=5</strong> (better fit). BIC conservative hơn.
                </div>
            </div>
        </div>

        <!-- Slide 16 -->
        <div class="slide">
            <h2>15. Dendrogram Analysis</h2>
            <div class="content">
                <h3>Hierarchical Clustering Dendrogram</h3>
                <p>Biểu đồ cây thể hiện cấu trúc phân cấp của dữ liệu.</p>
                
                <svg width="100%" height="220" style="background: white; border: 2px solid #ddd; border-radius: 8px; margin: 15px 0;">
                    <!-- Leaves (data points) -->
                    <text x="50" y="210" font-size="12" text-anchor="middle">A</text>
                    <text x="100" y="210" font-size="12" text-anchor="middle">B</text>
                    <text x="150" y="210" font-size="12" text-anchor="middle">C</text>
                    <text x="200" y="210" font-size="12" text-anchor="middle">D</text>
                    <text x="280" y="210" font-size="12" text-anchor="middle">E</text>
                    <text x="330" y="210" font-size="12" text-anchor="middle">F</text>
                    <text x="420" y="210" font-size="12" text-anchor="middle">G</text>
                    <text x="470" y="210" font-size="12" text-anchor="middle">H</text>
                    
                    <!-- Tree structure -->
                    <!-- Cluster 1 -->
                    <line x1="50" y1="200" x2="50" y2="170" stroke="#667eea" stroke-width="2"/>
                    <line x1="100" y1="200" x2="100" y2="170" stroke="#667eea" stroke-width="2"/>
                    <line x1="50" y1="170" x2="100" y2="170" stroke="#667eea" stroke-width="2"/>
                    
                    <line x1="75" y1="170" x2="75" y2="140" stroke="#667eea" stroke-width="2"/>
                    <line x1="150" y1="200" x2="150" y2="140" stroke="#667eea" stroke-width="2"/>
                    <line x1="75" y1="140" x2="150" y2="140" stroke="#667eea" stroke-width="2"/>
                    
                    <line x1="112" y1="140" x2="112" y2="90" stroke="#667eea" stroke-width="2"/>
                    <line x1="200" y1="200" x2="200" y2="90" stroke="#667eea" stroke-width="2"/>
                    <line x1="112" y1="90" x2="200" y2="90" stroke="#667eea" stroke-width="2"/>
                    
                    <!-- Cluster 2 -->
                    <line x1="280" y1="200" x2="280" y2="160" stroke="#764ba2" stroke-width="2"/>
                    <line x1="330" y1="200" x2="330" y2="160" stroke="#764ba2" stroke-width="2"/>
                    <line x1="280" y1="160" x2="330" y2="160" stroke="#764ba2" stroke-width="2"/>
                    
                    <line x1="305" y1="160" x2="305" y2="80" stroke="#764ba2" stroke-width="2"/>
                    
                    <!-- Cluster 3 -->
                    <line x1="420" y1="200" x2="420" y2="150" stroke="#f093fb" stroke-width="2"/>
                    <line x1="470" y1="200" x2="470" y2="150" stroke="#f093fb" stroke-width="2"/>
                    <line x1="420" y1="150" x2="470" y2="150" stroke="#f093fb" stroke-width="2"/>
                    
                    <line x1="445" y1="150" x2="445" y2="80" stroke="#f093fb" stroke-width="2"/>
                    
                    <!-- Top merge -->
                    <line x1="156" y1="90" x2="156" y2="40" stroke="#333" stroke-width="2"/>
                    <line x1="375" y1="80" x2="375" y2="40" stroke="#333" stroke-width="2"/>
                    <line x1="156" y1="40" x2="375" y2="40" stroke="#333" stroke-width="2"/>
                    
                    <!-- Cut line -->
                    <line x1="30" y1="100" x2="500" y2="100" stroke="#f5576c" stroke-width="3" stroke-dasharray="8,4"/>
                    <text x="510" y="105" font-size="14" fill="#f5576c" font-weight="bold">Cut here → k=3</text>
                </svg>
                
                <div class="note">
                    <strong>Cắt dendrogram tại độ cao phù hợp</strong> để xác định số cluster. Cut line → 3 clusters.
                </div>
            </div>
        </div>

        <!-- Slide 17 -->
        <div class="slide">
            <h2>16. So sánh tổng hợp các phương pháp</h2>
            <div class="content">
                <table style="font-size: 0.75em;">
                    <thead>
                        <tr>
                            <th>Phương pháp</th>
                            <th>Ưu điểm</th>
                            <th>Nhược điểm</th>
                            <th>Khi nào dùng</th>
                            <th>Complexity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Elbow</strong></td>
                            <td>Đơn giản, trực quan</td>
                            <td>Chủ quan</td>
                            <td>Khởi đầu nhanh</td>
                            <td>O(nk)</td>
                        </tr>
                        <tr>
                            <td><strong>Silhouette</strong></td>
                            <td>Toàn diện [-1,1]</td>
                            <td>Chậm với n lớn</td>
                            <td>Đánh giá chi tiết</td>
                            <td>O(n²)</td>
                        </tr>
                        <tr>
                            <td><strong>Davies-Bouldin</strong></td>
                            <td>Nhanh, đơn giản</td>
                            <td>Chỉ cluster cầu</td>
                            <td>Data cân đối</td>
                            <td>O(nk)</td>
                        </tr>
                        <tr>
                            <td><strong>Calinski-Harabasz</strong></td>
                            <td>Nhanh, mật độ khác nhau</td>
                            <td>Nhạy outliers</td>
                            <td>Large dataset</td>
                            <td>O(nk)</td>
                        </tr>
                        <tr>
                            <td><strong>Gap Statistic</strong></td>
                            <td>Chặt chẽ thống kê</td>
                            <td>Tính toán phức tạp</td>
                            <td>Độ chính xác cao</td>
                            <td>O(Bnk)</td>
                        </tr>
                        <tr>
                            <td><strong>BIC/AIC</strong></td>
                            <td>Cân bằng complexity</td>
                            <td>Cần likelihood</td>
                            <td>GMM, probabilistic</td>
                            <td>O(nk)</td>
                        </tr>
                        <tr>
                            <td><strong>Dendrogram</strong></td>
                            <td>Trực quan, cấu trúc</td>
                            <td>Khó với n lớn</td>
                            <td>Hierarchical</td>
                            <td>O(n²log n)</td>
                        </tr>
                    </tbody>
                </table>
                <div class="note" style="margin-top: 15px;">
                    <strong>Best Practice:</strong> Kết hợp 3-4 phương pháp + domain knowledge + business context
                </div>
            </div>
        </div>

        <!-- Slide 12 -->
        <div class="slide">
            <div class="section-header">PHẦN 2: MEAN-SHIFT, K-MODES & K-PROTOTYPES</div>
            <h2>11. Mean-Shift: Tổng quan</h2>
            <div class="content">
                <h3>Định nghĩa</h3>
                <p>Mean-Shift là thuật toán clustering non-parametric dựa trên density estimation, tự động tìm số cluster.</p>
                
                <h3>Ý tưởng cốt lõi</h3>
                <ul>
                    <li>Mỗi điểm dữ liệu là seed của cluster tiềm năng</li>
                    <li>Dịch chuyển seed theo hướng gradient của density</li>
                    <li>Seeds hội tụ về cùng điểm thuộc cùng cluster</li>
                    <li>Không cần chỉ định trước số cluster</li>
                </ul>
                
                <div class="note">
                    <strong>Khác K-means:</strong> Mean-Shift phát hiện cluster với hình dạng bất kỳ, không giới hạn hình cầu.
                </div>
            </div>
        </div>

        <!-- Slide 13 -->
        <div class="slide">
            <h2>12. Mean-Shift: Công thức</h2>
            <div class="content">
                <h3>Kernel Density Estimation</h3>
                <div class="formula">
                    f(x) = (1/n) × Σ(i=1 to n) K((x - xi) / h)
                    <br><br>
                    K: kernel function (thường Gaussian) | h: bandwidth | n: số điểm
                </div>
                
                <h3>Mean-Shift Vector</h3>
                <div class="formula">
                    m(x) = [Σ xi × K((x - xi) / h)] / [Σ K((x - xi) / h)] - x
                    <br><br>
                    Điểm mới: x(t+1) = x(t) + m(x(t))
                    <br>Lặp cho đến: ||m(x)|| < ε
                </div>
            </div>
        </div>

        <!-- Slide 14 -->
        <div class="slide">
            <h2>13. Mean-Shift: Thuật toán</h2>
            <div class="content">
                <h3>Bước thực hiện</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1. Khởi tạo:</strong> Chọn mỗi điểm làm seed
                    <br><strong>2. Tính mean-shift:</strong> Với mỗi seed, tính m(x)
                    <br><strong>3. Cập nhật:</strong> Di chuyển seed theo m(x)
                    <br><strong>4. Lặp:</strong> Đến khi hội tụ
                    <br><strong>5. Gán cluster:</strong> Seeds hội tụ cùng điểm → cùng cluster
                    <br><strong>6. Hậu xử lý:</strong> Gộp modes gần nhau
                </div>
                
                <h3>Tham số quan trọng</h3>
                <ul>
                    <li><span class="highlight">Bandwidth (h):</span> Kiểm soát kích thước cửa sổ</li>
                    <li>h nhỏ → nhiều cluster nhỏ</li>
                    <li>h lớn → ít cluster lớn</li>
                </ul>
            </div>
        </div>

        <!-- Slide 15 -->
        <div class="slide">
            <h2>14. Mean-Shift: Ưu nhược điểm</h2>
            <div class="content">
                <div class="grid-2">
                    <div class="card">
                        <h3>Ưu điểm ✓</h3>
                        <ul style="font-size: 0.9em;">
                            <li>Tự động tìm số cluster</li>
                            <li>Cluster hình dạng bất kỳ</li>
                            <li>Robust với outliers</li>
                            <li>Một tham số chính</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Nhược điểm ✗</h3>
                        <ul style="font-size: 0.9em;">
                            <li>Chậm O(n²)</li>
                            <li>Bandwidth khó chọn</li>
                            <li>Nhạy với bandwidth</li>
                            <li>Khó với high dimensions</li>
                        </ul>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Ứng dụng thực tế</h3>
                <ul>
                    <li><strong>Computer Vision:</strong> Image segmentation, tracking</li>
                    <li><strong>Phân tích không gian:</strong> Hotspot detection</li>
                    <li><strong>Video:</strong> Motion analysis</li>
                </ul>
            </div>
        </div>

        <!-- Slide 16 -->
        <div class="slide">
            <h2>15. K-modes: Tổng quan</h2>
            <div class="content">
                <h3>Vấn đề với K-means</h3>
                <p>K-means chỉ xử lý dữ liệu số, không áp dụng cho dữ liệu phân loại (categorical).</p>
                
                <h3>K-modes - Giải pháp cho Categorical</h3>
                <ul>
                    <li>Mở rộng K-means cho categorical data</li>
                    <li>Thay mean bằng <span class="highlight">mode</span></li>
                    <li>Thay Euclidean bằng <span class="highlight">simple matching</span></li>
                    <li>Phù hợp: phân khúc KH, phân loại SP, survey</li>
                </ul>
                
                <div class="note">
                    <strong>Ví dụ:</strong> Giới tính {Nam, Nữ}, Trình độ {THPT, ĐH}, Khu vực {Bắc, Trung, Nam}
                </div>
            </div>
        </div>

        <!-- Slide 17 -->
        <div class="slide">
            <h2>16. K-modes: Dissimilarity</h2>
            <div class="content">
                <h3>Simple Matching Dissimilarity</h3>
                <div class="formula">
                    d(X, Y) = Σ(j=1 to m) δ(xj, yj)
                    <br><br>
                    δ(xj, yj) = 0 nếu xj = yj
                    <br>δ(xj, yj) = 1 nếu xj ≠ yj
                </div>
                
                <h3>Ví dụ minh họa</h3>
                <div class="card">
                    <strong>Customer A:</strong> [Nam, 25-35, IT]
                    <br><strong>Customer B:</strong> [Nam, 36-45, IT]
                    <br><br>
                    d(A, B) = 0 + 1 + 0 = 1
                </div>
                
                <p style="margin-top: 15px;"><strong>Ý nghĩa:</strong> Đếm số attributes khác nhau.</p>
            </div>
        </div>

        <!-- Slide 18 -->
        <div class="slide">
            <h2>17. K-modes: Thuật toán</h2>
            <div class="content">
                <h3>Các bước thực hiện</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1.</strong> Chọn k modes ngẫu nhiên
                    <br><strong>2.</strong> Gán điểm vào cluster gần nhất
                    <br><strong>3.</strong> Cập nhật modes (mode của mỗi attribute)
                    <br><strong>4.</strong> Kiểm tra hội tụ → dừng hoặc quay lại bước 2
                </div>
                
                <h3>Cập nhật Mode</h3>
                <div class="formula">
                    Mode = giá trị xuất hiện nhiều nhất
                    <br>VD: [Nam, Nam, Nữ, Nam] → Mode = Nam
                </div>
                
                <h3>Cost Function</h3>
                <div class="formula">
                    Cost = Σ(i=1 to k) Σ(X ∈ Ci) d(X, Qi)
                </div>
            </div>
        </div>

        <!-- Slide 19 -->
        <div class="slide">
            <h2>18. K-modes: Ứng dụng</h2>
            <div class="content">
                <div class="grid-2">
                    <div class="card">
                        <h3>Cải tiến</h3>
                        <ul style="font-size: 0.85em;">
                            <li>Fuzzy K-modes</li>
                            <li>Weighted K-modes</li>
                            <li>Fast K-modes</li>
                            <li>K-modes++</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Ưu & Nhược</h3>
                        <ul style="font-size: 0.85em;">
                            <li>✓ Xử lý categorical</li>
                            <li>✓ Nhanh, scalable</li>
                            <li>✗ Nhạy khởi tạo</li>
                            <li>✗ Cần chọn k</li>
                        </ul>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Ứng dụng thực tế</h3>
                <ul>
                    <li><strong>Marketing:</strong> Phân khúc KH theo demographics</li>
                    <li><strong>E-commerce:</strong> Phân loại sản phẩm</li>
                    <li><strong>Healthcare:</strong> Nhóm bệnh nhân</li>
                    <li><strong>Survey:</strong> Phân tích định tính</li>
                </ul>
            </div>
        </div>

        <!-- Slide 20 -->
        <div class="slide">
            <h2>19. K-prototypes: Tổng quan</h2>
            <div class="content">
                <h3>Vấn đề Mixed Data</h3>
                <p>Dữ liệu thường chứa cả <span class="highlight">numerical</span> và <span class="highlight">categorical</span>.</p>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>Ví dụ Customer:</strong>
                    <br>• Numerical: Tuổi (32), Thu nhập (25M), Số mua (5)
                    <br>• Categorical: Giới tính (Nam), Khu vực (HCM), Nghề (IT)
                </div>
                
                <h3>K-prototypes = K-means + K-modes</h3>
                <ul>
                    <li>Kết hợp ưu điểm K-means và K-modes</li>
                    <li>Xử lý đồng thời numerical + categorical</li>
                    <li>Sử dụng prototype thay mean/mode</li>
                    <li>Distance = Euclidean + Simple Matching</li>
                </ul>
            </div>
        </div>

        <!-- Slide 21 -->
        <div class="slide">
            <h2>20. K-prototypes: Distance</h2>
            <div class="content">
                <h3>Công thức Distance tổng hợp</h3>
                <div class="formula">
                    d(X, Q) = d_num(Xnum, Qnum) + γ × d_cat(Xcat, Qcat)
                    <br><br>
                    d_num: Euclidean cho numerical
                    <br>d_cat: Simple matching cho categorical
                    <br>γ: trọng số điều chỉnh
                </div>
                
                <h3>Chi tiết</h3>
                <div class="formula">
                    d_num = √[Σ(xj - qj)²]
                    <br><br>
                    d_cat = Σ δ(xj, qj)
                    <br><br>
                    γ thường = std_dev(numerical)
                </div>
            </div>
        </div>

        <!-- Slide 22 -->
        <div class="slide">
            <h2>21. K-prototypes: Thuật toán</h2>
            <div class="content">
                <h3>Các bước</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1.</strong> Chọn k prototypes
                    <br><strong>2.</strong> Gán điểm theo mixed distance
                    <br><strong>3.</strong> Cập nhật prototypes:
                    <br>&nbsp;&nbsp;• Numerical: mean
                    <br>&nbsp;&nbsp;• Categorical: mode
                    <br><strong>4.</strong> Hội tụ → dừng
                </div>
                
                <h3>Cost Function</h3>
                <div class="formula">
                    E = Σ(l=1 to k) Σ(X ∈ Cl) [d_num(X, Ql) + γ × d_cat(X, Ql)]
                </div>
            </div>
        </div>

        <!-- Slide 23 -->
        <div class="slide">
            <h2>22. So sánh K-means/modes/prototypes</h2>
            <div class="content">
                <table style="font-size: 0.8em;">
                    <thead>
                        <tr>
                            <th>Đặc điểm</th>
                            <th>K-means</th>
                            <th>K-modes</th>
                            <th>K-prototypes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Dữ liệu</td>
                            <td>Numerical</td>
                            <td>Categorical</td>
                            <td>Mixed</td>
                        </tr>
                        <tr>
                            <td>Center</td>
                            <td>Mean</td>
                            <td>Mode</td>
                            <td>Prototype</td>
                        </tr>
                        <tr>
                            <td>Distance</td>
                            <td>Euclidean</td>
                            <td>Matching</td>
                            <td>Euclidean+Matching</td>
                        </tr>
                        <tr>
                            <td>Tốc độ</td>
                            <td>Nhanh</td>
                            <td>Nhanh</td>
                            <td>TB</td>
                        </tr>
                        <tr>
                            <td>Ứng dụng</td>
                            <td>IoT, Financial</td>
                            <td>Survey</td>
                            <td>Customer Analytics</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="note" style="margin-top: 15px;">
                    <strong>Chọn:</strong> Chỉ số → K-means | Chỉ categorical → K-modes | Mixed → K-prototypes
                </div>
            </div>
        </div>

        <!-- Slide 24 -->
        <div class="slide">
            <div class="section-header">PHẦN 3: ĐÁNH GIÁ CLUSTERING CHO KINH DOANH</div>
            <h2>23. Business Metrics</h2>
            <div class="content">
                <h3>Tại sao cần Business Metrics?</h3>
                <p>Metrics kỹ thuật không phản ánh giá trị kinh doanh thực.</p>
                
                <h3>Metrics quan trọng</h3>
                
                <div class="card">
                    <h3>1. Cluster Profitability</h3>
                    <div class="formula">
                        Profit_i = (Revenue_i - Cost_i) / |Cluster_i|
                        <br>Cluster nào lợi nhuận cao nhất?
                    </div>
                </div>
                
                <div class="card" style="margin-top: 15px;">
                    <h3>2. Customer Lifetime Value</h3>
                    <div class="formula">
                        CLV_i = Avg(Revenue × Retention × Time)
                        <br>Cluster có giá trị lâu dài nhất
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 25 -->
        <div class="slide">
            <h2>24. Actionability & Stability</h2>
            <div class="content">
                <h3>3. Cluster Actionability</h3>
                <ul>
                    <li><strong>Định nghĩa:</strong> Cluster rõ ràng, dễ diễn giải, có thể triển khai chiến lược</li>
                    <li><strong>Đánh giá:</strong> Size hợp lý? Đặc điểm rõ? Có thể targeting?</li>
                </ul>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>Ví dụ:</strong>
                    <br>✓ Tốt: "Nữ 25-35, thu nhập cao, mua online"
                    <br>✗ Kém: "Khách hàng hỗn tạp, không có pattern"
                </div>
                
                <h3>4. Cluster Stability</h3>
                <div class="formula">
                    Stability = Agreement(Clustering_t1, Clustering_t2)
                    <br><br>
                    Đo: Adjusted Rand Index hoặc % điểm không đổi
                    <br>Mục tiêu: Ổn định qua thời gian
                </div>
            </div>
        </div>

        <!-- Slide 26 -->
        <div class="slide">
            <h2>25. Business Impact Metrics</h2>
            <div class="content">
                <h3>5. Conversion Rate</h3>
                <div class="formula">
                    Conversion_i = (Số KH mua / Tổng KH) × 100%
                    <br>Cluster nào conversion cao nhất?
                </div>
                
                <h3>6. Churn Rate</h3>
                <div class="formula">
                    Churn_i = (Số KH rời / Tổng KH) × 100%
                    <br>Focus retention vào cluster churn cao
                </div>
                
                <h3>Framework đánh giá</h3>
                <div class="grid-2" style="margin-top: 15px;">
                    <div class="card">
                        <strong>Technical:</strong>
                        <br>• Silhouette
                        <br>• Davies-Bouldin
                        <br>• Separation
                    </div>
                    <div class="card">
                        <strong>Business:</strong>
                        <br>• Profitability
                        <br>• CLV, Conversion
                        <br>• Actionability
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 27 -->
        <div class="slide">
            <div class="section-header">PHẦN 4: KỸ NĂNG DATA SCIENCE & ỨNG DỤNG CLUSTERING</div>
            <h2>26. Ứng dụng Clustering: Phân khúc khách hàng</h2>
            <div class="content">
                <h3>Customer Segmentation - Bài toán phổ biến nhất</h3>
                <p>Sử dụng clustering để chia khách hàng thành các nhóm đồng nhất dựa trên hành vi và đặc điểm.</p>
                
                <h3>Quy trình thực hiện</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>Bước 1:</strong> Thu thập dữ liệu (demographics, transactions, behavior)
                    <br><strong>Bước 2:</strong> Feature engineering (RFM, CLV, frequency...)
                    <br><strong>Bước 3:</strong> Chọn thuật toán (K-means cho numerical, K-prototypes cho mixed)
                    <br><strong>Bước 4:</strong> Đánh giá cluster (technical + business metrics)
                    <br><strong>Bước 5:</strong> Profiling từng segment
                    <br><strong>Bước 6:</strong> Triển khai chiến lược marketing riêng
                </div>
                
                <h3>Ví dụ segments</h3>
                <ul>
                    <li><strong>VIP:</strong> Chi tiêu cao, trung thành → personalized service</li>
                    <li><strong>At-risk:</strong> Giảm tương tác → retention campaigns</li>
                    <li><strong>New:</strong> Mới tham gia → onboarding programs</li>
                </ul>
            </div>
        </div>

        <!-- Slide 28 -->
        <div class="slide">
            <h2>27. Ứng dụng: RFM Analysis với Clustering</h2>
            <div class="content">
                <h3>RFM Model</h3>
                <div class="formula">
                    R (Recency): Bao lâu KH mua gần nhất?
                    <br>F (Frequency): KH mua bao nhiêu lần?
                    <br>M (Monetary): KH chi bao nhiêu tiền?
                </div>
                
                <h3>Kết hợp RFM + Clustering</h3>
                <ul>
                    <li>Chuẩn hóa 3 metrics RFM (scale 0-1)</li>
                    <li>Áp dụng K-means hoặc Hierarchical clustering</li>
                    <li>Xác định số cluster tối ưu (Silhouette, Elbow)</li>
                    <li>Gắn nhãn business cho từng cluster</li>
                </ul>
                
                <div class="grid-2" style="margin-top: 15px;">
                    <div class="card">
                        <strong>Champions:</strong>
                        <br>R↑ F↑ M↑
                        <br>→ Reward programs
                    </div>
                    <div class="card">
                        <strong>Hibernating:</strong>
                        <br>R↓ F↓ M↓
                        <br>→ Win-back campaigns
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 29 -->
        <div class="slide">
            <h2>28. Ứng dụng: Product Recommendation</h2>
            <div class="content">
                <h3>Clustering cho Recommendation System</h3>
                <p>Nhóm sản phẩm hoặc khách hàng tương tự để đề xuất.</p>
                
                <h3>Hai hướng tiếp cận</h3>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>1. Item-based Clustering:</strong>
                    <br>• Cluster sản phẩm theo attributes (category, price, brand)
                    <br>• KH mua SP A → recommend SP khác trong cùng cluster
                    <br>• Dùng: K-modes hoặc K-prototypes
                </div>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>2. User-based Clustering:</strong>
                    <br>• Cluster KH theo purchase history
                    <br>• KH trong cùng cluster có preference tương tự
                    <br>• Recommend SP phổ biến trong cluster
                </div>
                
                <h3>Metrics đánh giá</h3>
                <ul>
                    <li>Click-through rate (CTR)</li>
                    <li>Conversion rate</li>
                    <li>Average order value (AOV)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 30 -->
        <div class="slide">
            <h2>29. Ứng dụng: Churn Prediction & Prevention</h2>
            <div class="content">
                <h3>Clustering trong Churn Analysis</h3>
                <p>Xác định nhóm khách hàng có nguy cơ rời bỏ cao.</p>
                
                <h3>Quy trình</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>Bước 1:</strong> Feature engineering
                    <br>• Engagement metrics: login frequency, session duration
                    <br>• Transaction: purchase decline, cart abandonment
                    <br>• Support: ticket count, complaint rate
                    <br><br>
                    <strong>Bước 2:</strong> Clustering + Classification
                    <br>• Cluster KH theo behavior patterns
                    <br>• Train classification model để predict churn
                    <br>• Focus resources vào high-risk clusters
                </div>
                
                <h3>Chiến lược Retention theo Cluster</h3>
                <ul>
                    <li><strong>Price-sensitive:</strong> Discounts, loyalty points</li>
                    <li><strong>Service-focused:</strong> Priority support, premium features</li>
                    <li><strong>Inactive:</strong> Re-engagement emails, special offers</li>
                </ul>
            </div>
        </div>

        <!-- Slide 31 -->
        <div class="slide">
            <h2>30. Ứng dụng: Market Basket Analysis</h2>
            <div class="content">
                <h3>Clustering Products theo Co-purchase</h3>
                <p>Phân tích sản phẩm nào thường được mua cùng nhau.</p>
                
                <h3>Kỹ thuật</h3>
                <ul>
                    <li><strong>Association Rules:</strong> Apriori, FP-Growth (if A then B)</li>
                    <li><strong>Clustering:</strong> Nhóm products theo co-occurrence matrix</li>
                    <li>Similarity measure: Jaccard, Cosine similarity</li>
                </ul>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>Ví dụ ứng dụng:</strong>
                    <br>• <strong>Retail:</strong> Store layout optimization (đặt SP liên quan gần nhau)
                    <br>• <strong>E-commerce:</strong> "Frequently bought together" recommendations
                    <br>• <strong>Promotion:</strong> Bundle pricing (combo sản phẩm)
                    <br>• <strong>Inventory:</strong> Stock management (đồng bộ inventory)
                </div>
                
                <h3>Business Impact</h3>
                <ul>
                    <li>Tăng average basket size</li>
                    <li>Cross-selling hiệu quả</li>
                    <li>Tối ưu shelf space</li>
                </ul>
            </div>
        </div>

        <!-- Slide 32 -->
        <div class="slide">
            <h2>31. Kỹ năng Data Science End-to-End</h2>
            <div class="content">
                <h3>Kỹ năng Technical cần thiết</h3>
                
                <div class="grid-2">
                    <div class="card">
                        <strong>Programming:</strong>
                        <ul style="font-size: 0.85em;">
                            <li>Python: Pandas, NumPy, Scikit-learn</li>
                            <li>R: dplyr, ggplot2, caret</li>
                            <li>SQL: Query, Join, CTE, Window functions</li>
                            <li>Git: Version control</li>
                        </ul>
                    </div>
                    <div class="card">
                        <strong>Machine Learning:</strong>
                        <ul style="font-size: 0.85em;">
                            <li>Supervised: Regression, Classification</li>
                            <li>Unsupervised: Clustering, PCA</li>
                            <li>Evaluation: Cross-validation, metrics</li>
                            <li>Hyperparameter tuning</li>
                        </ul>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Kỹ năng Business Analytics</h3>
                <ul>
                    <li><strong>A/B Testing:</strong> Experimental design, statistical testing</li>
                    <li><strong>Metrics:</strong> Define & track KPIs (CTR, CAC, LTV, ROAS)</li>
                    <li><strong>Attribution:</strong> Multi-touch attribution modeling</li>
                    <li><strong>Forecasting:</strong> Time series, demand prediction</li>
                </ul>
            </div>
        </div>

        <!-- Slide 33 -->
        <div class="slide">
            <h2>32. Data Storytelling & Business Impact</h2>
            <div class="content">
                <h3>Soft Skills quan trọng</h3>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>1. Data Storytelling:</strong>
                    <br>• Chuyển insights thành narrative có ý nghĩa
                    <br>• Context → Insights → Recommendations → Expected Impact
                    <br>• Sử dụng visualization hiệu quả (chart types phù hợp)
                    <br>• Focus vào "So what?" và "What next?"
                </div>
                
                <h3>Visualization & Reporting Tools</h3>
                <div class="grid-2">
                    <div class="card">
                        <strong>Dashboards:</strong>
                        <br>• Tableau, Power BI
                        <br>• Google Data Studio
                        <br>• Looker, Metabase
                    </div>
                    <div class="card">
                        <strong>Reporting:</strong>
                        <br>• Jupyter Notebook
                        <br>• R Markdown
                        <br>• Executive summaries
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Business Communication</h3>
                <ul>
                    <li>Translate technical → business language</li>
                    <li>Stakeholder management (align expectations)</li>
                    <li>Present to C-level executives</li>
                    <li>ROI calculation và business case</li>
                </ul>
            </div>
        </div>

        <!-- Slide 34 -->
        <div class="slide slide-title">
            <h1>Tổng kết</h1>
            <div style="text-align: left; max-width: 900px; margin: 40px auto; font-size: 1.1em;">
                <p style="margin: 15px 0;">✓ <strong>Phần 1:</strong> 10 phương pháp đánh giá số cluster tối ưu</p>
                <p style="margin: 15px 0;">✓ <strong>Phần 2:</strong> Mean-Shift, K-modes, K-prototypes - thuật toán & ứng dụng</p>
                <p style="margin: 15px 0;">✓ <strong>Phần 3:</strong> Business metrics cho clustering trong thực tế</p>
                <p style="margin: 15px 0;">✓ <strong>Phần 4:</strong> Kỹ năng Data Science & 6 ứng dụng clustering trong kinh doanh:</p>
                <ul style="margin-left: 40px; font-size: 0.95em;">
                    <li>Customer Segmentation</li>
                    <li>RFM Analysis</li>
                    <li>Product Recommendation</li>
                    <li>Churn Prediction</li>
                    <li>Market Basket Analysis</li>
                    <li>End-to-end Data Science Skills</li>
                </ul>
            </div>
            <p style="font-size: 1.3em; margin-top: 40px;">Cảm ơn các bạn đã theo dõi!</p>
        </div>

        <div class="controls">
            <button onclick="prevSlide()">← Trước</button>
            <button onclick="nextSlide()">Sau →</button>
        </div>
        
        <div class="slide-number" id="slideNumber">1 / 34</div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            document.getElementById('slideNumber').textContent = (currentSlide + 1) + ' / ' + totalSlides;
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function prevSlide() {
            showSlide(currentSlide - 1);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>
