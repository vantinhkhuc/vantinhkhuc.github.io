<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài giảng Phân tích Dữ liệu - Clustering</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .presentation {
            width: 100%;
            max-width: 1200px;
            aspect-ratio: 16/9;
            background: white;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            padding: 50px;
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            position: absolute;
            top: 0;
            left: 0;
            overflow-y: auto;
        }
        
        .slide.active {
            display: flex;
        }
        
        .slide-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
        }
        
        .slide-title h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        
        .slide-title p {
            font-size: 1.5em;
            opacity: 0.9;
        }
        
        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 4px solid #764ba2;
            padding-bottom: 10px;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        
        .content {
            font-size: 1em;
            line-height: 1.6;
            color: #333;
        }
        
        .content ul {
            list-style: none;
            padding-left: 0;
        }
        
        .content li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .content li:before {
            content: "▸";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .formula {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #667eea;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }
        
        .note {
            background: #fff3cd;
            padding: 12px;
            border-radius: 8px;
            border-left: 5px solid #ffc107;
            margin: 15px 0;
            font-style: italic;
            font-size: 0.95em;
        }
        
        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        
        .card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-top: 4px solid #667eea;
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .slide-number {
            position: absolute;
            bottom: 20px;
            right: 30px;
            color: #999;
            font-size: 1em;
            z-index: 10;
        }
        
        .section-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-size: 1.2em;
            text-align: center;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.85em;
        }
        
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 2px solid #ddd;
        }
        
        th {
            background: #667eea;
            color: white;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- Slide 1 -->
        <div class="slide active slide-title">
            <h1>Phân Tích Dữ Liệu</h1>
            <p>Clustering & Kỹ năng Data Science</p>
            <p style="font-size: 1.2em; margin-top: 30px;">Giảng viên: Phạm Thanh Tùng</p>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <div class="section-header">PHẦN 1: CÁC PHƯƠNG PHÁP ĐÁNH GIÁ SỐ CLUSTER</div>
            <h2>1. Tổng quan về đánh giá số cluster</h2>
            <div class="content">
                <p>Một trong những thách thức lớn nhất trong clustering là xác định số lượng cluster tối ưu (k).</p>
                <h3>Tại sao cần đánh giá số cluster?</h3>
                <ul>
                    <li>Không có ground truth trong unsupervised learning</li>
                    <li>Số cluster ảnh hưởng trực tiếp đến chất lượng phân cụm</li>
                    <li>Quá ít cluster: underfitting, mất thông tin chi tiết</li>
                    <li>Quá nhiều cluster: overfitting, khó diễn giải</li>
                </ul>
                <div class="note">
                    <strong>Lưu ý:</strong> Không có phương pháp nào là hoàn hảo tuyệt đối. Nên kết hợp nhiều phương pháp và kiến thức domain.
                </div>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide">
            <h2>2. Phương pháp Elbow Method</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>Tìm điểm "khuỷu tay" (elbow) trên biểu đồ giữa số cluster và WCSS (Within-Cluster Sum of Squares)</p>
                
                <div class="formula">
                    WCSS = Σ(i=1 to k) Σ(x ∈ Ci) ||x - μi||²
                    <br><br>
                    k: số cluster | Ci: cluster thứ i | μi: centroid của cluster i
                </div>
                
                <h3>Cách thực hiện</h3>
                <ul>
                    <li>Chạy K-means với k từ 1 đến n</li>
                    <li>Tính WCSS cho mỗi k</li>
                    <li>Vẽ biểu đồ k vs WCSS</li>
                    <li>Chọn k tại điểm "khuỷu tay" - nơi đường cong bắt đầu phẳng</li>
                </ul>
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <h2>3. Silhouette Score</h2>
            <div class="content">
                <h3>Định nghĩa</h3>
                <p>Đo lường mức độ tương đồng của một điểm dữ liệu với cluster của nó so với các cluster khác.</p>
                
                <div class="formula">
                    s(i) = (b(i) - a(i)) / max(a(i), b(i))
                    <br><br>
                    a(i): khoảng cách TB từ điểm i đến các điểm khác trong cùng cluster
                    <br>b(i): khoảng cách TB từ điểm i đến các điểm trong cluster gần nhất
                    <br><br>
                    Giá trị: -1 đến 1 (càng cao càng tốt)
                </div>
                
                <h3>Ưu điểm</h3>
                <ul>
                    <li>Đánh giá cả độ gắn kết (cohesion) và độ tách biệt (separation)</li>
                    <li>Dễ hiểu và trực quan</li>
                    <li>Áp dụng được cho nhiều thuật toán clustering</li>
                </ul>
            </div>
        </div>

        <!-- Slide 5 -->
        <div class="slide">
            <h2>4. Davies-Bouldin Index (DBI)</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>Đo lường tỉ lệ giữa độ phân tán trong cluster và khoảng cách giữa các cluster.</p>
                
                <div class="formula">
                    DB = (1/k) × Σ(i=1 to k) max(i≠j) [(σi + σj) / d(ci, cj)]
                    <br><br>
                    σi: độ phân tán TB trong cluster i
                    <br>d(ci, cj): khoảng cách giữa centroid của cluster i và j
                    <br><br>
                    Giá trị thấp hơn là tốt hơn (tối thiểu là 0)
                </div>
                
                <h3>Đặc điểm</h3>
                <ul>
                    <li>Không cần ground truth</li>
                    <li>Tính toán nhanh</li>
                    <li>Nhạy với outliers</li>
                    <li>Chỉ áp dụng cho cluster hình cầu</li>
                </ul>
            </div>
        </div>

        <!-- Slide 6 -->
        <div class="slide">
            <h2>5. Calinski-Harabasz Index</h2>
            <div class="content">
                <h3>Công thức</h3>
                <div class="formula">
                    CH = [Tr(Bk) / (k-1)] / [Tr(Wk) / (n-k)]
                    <br><br>
                    Bk: ma trận phân tán giữa các cluster
                    <br>Wk: ma trận phân tán trong cluster
                    <br>n: số điểm dữ liệu | k: số cluster
                    <br><br>
                    Giá trị cao hơn là tốt hơn
                </div>
                
                <h3>Ưu điểm</h3>
                <ul>
                    <li>Tính toán nhanh và đơn giản</li>
                    <li>Hiệu quả với cluster có mật độ khác nhau</li>
                    <li>Phù hợp với large datasets</li>
                </ul>
            </div>
        </div>

        <!-- Slide 7 -->
        <div class="slide">
            <h2>6. Gap Statistic</h2>
            <div class="content">
                <h3>Nguyên lý</h3>
                <p>So sánh tổng phân tán trong cluster với phân tán kỳ vọng của dữ liệu ngẫu nhiên.</p>
                
                <div class="formula">
                    Gap(k) = E[log(Wk)] - log(Wk)
                    <br><br>
                    E[log(Wk)]: kỳ vọng của log(Wk) từ dữ liệu tham chiếu
                    <br>Wk: tổng phân tán trong cluster
                    <br><br>
                    Chọn k nhỏ nhất: Gap(k) ≥ Gap(k+1) - s(k+1)
                </div>
                
                <h3>Quy trình</h3>
                <ul>
                    <li>Tính Wk cho dữ liệu thực với mỗi k</li>
                    <li>Sinh B bộ dữ liệu tham chiếu ngẫu nhiên</li>
                    <li>Tính Wk cho mỗi bộ dữ liệu tham chiếu</li>
                    <li>Tính Gap statistic và độ lệch chuẩn</li>
                </ul>
            </div>
        </div>

        <!-- Slide 8 -->
        <div class="slide">
            <h2>7. Bayesian Information Criterion</h2>
            <div class="content">
                <h3>Công thức</h3>
                <div class="formula">
                    BIC = -2 × log(L) + p × log(n)
                    <br><br>
                    L: likelihood của model | p: số tham số | n: số điểm dữ liệu
                    <br><br>
                    Giá trị BIC thấp hơn là tốt hơn
                </div>
                
                <h3>Đặc điểm</h3>
                <ul>
                    <li>Cân bằng giữa độ fit và độ phức tạp của model</li>
                    <li>Penalty cho model phức tạp (nhiều cluster)</li>
                    <li>Thường dùng với Gaussian Mixture Models</li>
                    <li>Ưu tiên model đơn giản hơn AIC</li>
                </ul>
            </div>
        </div>

        <!-- Slide 9 -->
        <div class="slide">
            <h2>8. Akaike Information Criterion</h2>
            <div class="content">
                <h3>Công thức</h3>
                <div class="formula">
                    AIC = 2p - 2 × log(L)
                    <br><br>
                    AICc = AIC + [2p(p+1)] / [n-p-1]  (hiệu chỉnh cho sample nhỏ)
                </div>
                
                <div class="grid-2">
                    <div class="card">
                        <h3>So sánh AIC vs BIC</h3>
                        <ul style="font-size: 0.9em;">
                            <li>AIC: penalty nhẹ hơn</li>
                            <li>BIC: penalty mạnh hơn</li>
                            <li>BIC → model đơn giản</li>
                            <li>AIC → model phức tạp hơn</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Khi nào dùng?</h3>
                        <ul style="font-size: 0.9em;">
                            <li>AIC: prediction tốt</li>
                            <li>BIC: chọn "true model"</li>
                            <li>n lớn: BIC tốt hơn</li>
                            <li>n nhỏ: AIC tốt hơn</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10 -->
        <div class="slide">
            <h2>9. Dendrogram Analysis</h2>
            <div class="content">
                <h3>Áp dụng cho Hierarchical Clustering</h3>
                <p>Phân tích trực quan cấu trúc phân cấp của dữ liệu thông qua dendrogram.</p>
                
                <h3>Cách xác định số cluster</h3>
                <ul>
                    <li><span class="highlight">Vertical cut:</span> Cắt ngang dendrogram tại độ cao phù hợp</li>
                    <li><span class="highlight">Maximum distance gap:</span> Tìm khoảng cách lớn nhất giữa các merge</li>
                    <li><span class="highlight">Inconsistency coefficient:</span> Đo sự khác biệt giữa các link</li>
                </ul>
                
                <div class="note">
                    <strong>Ưu điểm:</strong> Trực quan, không cần chạy nhiều lần
                    <br><strong>Nhược điểm:</strong> Khó với dataset lớn, phụ thuộc vào diễn giải
                </div>
            </div>
        </div>

        <!-- Slide 11 -->
        <div class="slide">
            <h2>10. So sánh các phương pháp</h2>
            <div class="content">
                <table>
                    <thead>
                        <tr>
                            <th>Phương pháp</th>
                            <th>Ưu điểm</th>
                            <th>Nhược điểm</th>
                            <th>Khi nào dùng</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Elbow</td>
                            <td>Đơn giản, trực quan</td>
                            <td>Chủ quan</td>
                            <td>Khởi đầu nhanh</td>
                        </tr>
                        <tr>
                            <td>Silhouette</td>
                            <td>Toàn diện</td>
                            <td>Chậm với data lớn</td>
                            <td>Đánh giá chất lượng</td>
                        </tr>
                        <tr>
                            <td>DBI</td>
                            <td>Nhanh</td>
                            <td>Chỉ cho cluster cầu</td>
                            <td>Data cân đối</td>
                        </tr>
                        <tr>
                            <td>Gap</td>
                            <td>Chặt chẽ</td>
                            <td>Phức tạp</td>
                            <td>Cần độ chính xác cao</td>
                        </tr>
                        <tr>
                            <td>BIC/AIC</td>
                            <td>Cân bằng</td>
                            <td>Cần likelihood</td>
                            <td>GMM, probabilistic</td>
                        </tr>
                    </tbody>
                </table>
                <div class="note" style="margin-top: 15px;">
                    <strong>Best Practice:</strong> Sử dụng 3-4 phương pháp kết hợp + domain knowledge
                </div>
            </div>
        </div>

        <!-- Slide 12 -->
        <div class="slide">
            <div class="section-header">PHẦN 2: MEAN-SHIFT, K-MODES & K-PROTOTYPES</div>
            <h2>11. Mean-Shift: Tổng quan</h2>
            <div class="content">
                <h3>Định nghĩa</h3>
                <p>Mean-Shift là thuật toán clustering non-parametric dựa trên density estimation, tự động tìm số cluster.</p>
                
                <h3>Ý tưởng cốt lõi</h3>
                <ul>
                    <li>Mỗi điểm dữ liệu là seed của cluster tiềm năng</li>
                    <li>Dịch chuyển seed theo hướng gradient của density</li>
                    <li>Seeds hội tụ về cùng điểm thuộc cùng cluster</li>
                    <li>Không cần chỉ định trước số cluster</li>
                </ul>
                
                <div class="note">
                    <strong>Khác K-means:</strong> Mean-Shift phát hiện cluster với hình dạng bất kỳ, không giới hạn hình cầu.
                </div>
            </div>
        </div>

        <!-- Slide 13 -->
        <div class="slide">
            <h2>12. Mean-Shift: Công thức</h2>
            <div class="content">
                <h3>Kernel Density Estimation</h3>
                <div class="formula">
                    f(x) = (1/n) × Σ(i=1 to n) K((x - xi) / h)
                    <br><br>
                    K: kernel function (thường Gaussian) | h: bandwidth | n: số điểm
                </div>
                
                <h3>Mean-Shift Vector</h3>
                <div class="formula">
                    m(x) = [Σ xi × K((x - xi) / h)] / [Σ K((x - xi) / h)] - x
                    <br><br>
                    Điểm mới: x(t+1) = x(t) + m(x(t))
                    <br>Lặp cho đến: ||m(x)|| < ε
                </div>
            </div>
        </div>

        <!-- Slide 14 -->
        <div class="slide">
            <h2>13. Mean-Shift: Thuật toán</h2>
            <div class="content">
                <h3>Bước thực hiện</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1. Khởi tạo:</strong> Chọn mỗi điểm làm seed
                    <br><strong>2. Tính mean-shift:</strong> Với mỗi seed, tính m(x)
                    <br><strong>3. Cập nhật:</strong> Di chuyển seed theo m(x)
                    <br><strong>4. Lặp:</strong> Đến khi hội tụ
                    <br><strong>5. Gán cluster:</strong> Seeds hội tụ cùng điểm → cùng cluster
                    <br><strong>6. Hậu xử lý:</strong> Gộp modes gần nhau
                </div>
                
                <h3>Tham số quan trọng</h3>
                <ul>
                    <li><span class="highlight">Bandwidth (h):</span> Kiểm soát kích thước cửa sổ</li>
                    <li>h nhỏ → nhiều cluster nhỏ</li>
                    <li>h lớn → ít cluster lớn</li>
                </ul>
            </div>
        </div>

        <!-- Slide 15 -->
        <div class="slide">
            <h2>14. Mean-Shift: Ưu nhược điểm</h2>
            <div class="content">
                <div class="grid-2">
                    <div class="card">
                        <h3>Ưu điểm ✓</h3>
                        <ul style="font-size: 0.9em;">
                            <li>Tự động tìm số cluster</li>
                            <li>Cluster hình dạng bất kỳ</li>
                            <li>Robust với outliers</li>
                            <li>Một tham số chính</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Nhược điểm ✗</h3>
                        <ul style="font-size: 0.9em;">
                            <li>Chậm O(n²)</li>
                            <li>Bandwidth khó chọn</li>
                            <li>Nhạy với bandwidth</li>
                            <li>Khó với high dimensions</li>
                        </ul>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Ứng dụng thực tế</h3>
                <ul>
                    <li><strong>Computer Vision:</strong> Image segmentation, tracking</li>
                    <li><strong>Phân tích không gian:</strong> Hotspot detection</li>
                    <li><strong>Video:</strong> Motion analysis</li>
                </ul>
            </div>
        </div>

        <!-- Slide 16 -->
        <div class="slide">
            <h2>15. K-modes: Tổng quan</h2>
            <div class="content">
                <h3>Vấn đề với K-means</h3>
                <p>K-means chỉ xử lý dữ liệu số, không áp dụng cho dữ liệu phân loại (categorical).</p>
                
                <h3>K-modes - Giải pháp cho Categorical</h3>
                <ul>
                    <li>Mở rộng K-means cho categorical data</li>
                    <li>Thay mean bằng <span class="highlight">mode</span></li>
                    <li>Thay Euclidean bằng <span class="highlight">simple matching</span></li>
                    <li>Phù hợp: phân khúc KH, phân loại SP, survey</li>
                </ul>
                
                <div class="note">
                    <strong>Ví dụ:</strong> Giới tính {Nam, Nữ}, Trình độ {THPT, ĐH}, Khu vực {Bắc, Trung, Nam}
                </div>
            </div>
        </div>

        <!-- Slide 17 -->
        <div class="slide">
            <h2>16. K-modes: Dissimilarity</h2>
            <div class="content">
                <h3>Simple Matching Dissimilarity</h3>
                <div class="formula">
                    d(X, Y) = Σ(j=1 to m) δ(xj, yj)
                    <br><br>
                    δ(xj, yj) = 0 nếu xj = yj
                    <br>δ(xj, yj) = 1 nếu xj ≠ yj
                </div>
                
                <h3>Ví dụ minh họa</h3>
                <div class="card">
                    <strong>Customer A:</strong> [Nam, 25-35, IT]
                    <br><strong>Customer B:</strong> [Nam, 36-45, IT]
                    <br><br>
                    d(A, B) = 0 + 1 + 0 = 1
                </div>
                
                <p style="margin-top: 15px;"><strong>Ý nghĩa:</strong> Đếm số attributes khác nhau.</p>
            </div>
        </div>

        <!-- Slide 18 -->
        <div class="slide">
            <h2>17. K-modes: Thuật toán</h2>
            <div class="content">
                <h3>Các bước thực hiện</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1.</strong> Chọn k modes ngẫu nhiên
                    <br><strong>2.</strong> Gán điểm vào cluster gần nhất
                    <br><strong>3.</strong> Cập nhật modes (mode của mỗi attribute)
                    <br><strong>4.</strong> Kiểm tra hội tụ → dừng hoặc quay lại bước 2
                </div>
                
                <h3>Cập nhật Mode</h3>
                <div class="formula">
                    Mode = giá trị xuất hiện nhiều nhất
                    <br>VD: [Nam, Nam, Nữ, Nam] → Mode = Nam
                </div>
                
                <h3>Cost Function</h3>
                <div class="formula">
                    Cost = Σ(i=1 to k) Σ(X ∈ Ci) d(X, Qi)
                </div>
            </div>
        </div>

        <!-- Slide 19 -->
        <div class="slide">
            <h2>18. K-modes: Ứng dụng</h2>
            <div class="content">
                <div class="grid-2">
                    <div class="card">
                        <h3>Cải tiến</h3>
                        <ul style="font-size: 0.85em;">
                            <li>Fuzzy K-modes</li>
                            <li>Weighted K-modes</li>
                            <li>Fast K-modes</li>
                            <li>K-modes++</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Ưu & Nhược</h3>
                        <ul style="font-size: 0.85em;">
                            <li>✓ Xử lý categorical</li>
                            <li>✓ Nhanh, scalable</li>
                            <li>✗ Nhạy khởi tạo</li>
                            <li>✗ Cần chọn k</li>
                        </ul>
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">Ứng dụng thực tế</h3>
                <ul>
                    <li><strong>Marketing:</strong> Phân khúc KH theo demographics</li>
                    <li><strong>E-commerce:</strong> Phân loại sản phẩm</li>
                    <li><strong>Healthcare:</strong> Nhóm bệnh nhân</li>
                    <li><strong>Survey:</strong> Phân tích định tính</li>
                </ul>
            </div>
        </div>

        <!-- Slide 20 -->
        <div class="slide">
            <h2>19. K-prototypes: Tổng quan</h2>
            <div class="content">
                <h3>Vấn đề Mixed Data</h3>
                <p>Dữ liệu thường chứa cả <span class="highlight">numerical</span> và <span class="highlight">categorical</span>.</p>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>Ví dụ Customer:</strong>
                    <br>• Numerical: Tuổi (32), Thu nhập (25M), Số mua (5)
                    <br>• Categorical: Giới tính (Nam), Khu vực (HCM), Nghề (IT)
                </div>
                
                <h3>K-prototypes = K-means + K-modes</h3>
                <ul>
                    <li>Kết hợp ưu điểm K-means và K-modes</li>
                    <li>Xử lý đồng thời numerical + categorical</li>
                    <li>Sử dụng prototype thay mean/mode</li>
                    <li>Distance = Euclidean + Simple Matching</li>
                </ul>
            </div>
        </div>

        <!-- Slide 21 -->
        <div class="slide">
            <h2>20. K-prototypes: Distance</h2>
            <div class="content">
                <h3>Công thức Distance tổng hợp</h3>
                <div class="formula">
                    d(X, Q) = d_num(Xnum, Qnum) + γ × d_cat(Xcat, Qcat)
                    <br><br>
                    d_num: Euclidean cho numerical
                    <br>d_cat: Simple matching cho categorical
                    <br>γ: trọng số điều chỉnh
                </div>
                
                <h3>Chi tiết</h3>
                <div class="formula">
                    d_num = √[Σ(xj - qj)²]
                    <br><br>
                    d_cat = Σ δ(xj, qj)
                    <br><br>
                    γ thường = std_dev(numerical)
                </div>
            </div>
        </div>

        <!-- Slide 22 -->
        <div class="slide">
            <h2>21. K-prototypes: Thuật toán</h2>
            <div class="content">
                <h3>Các bước</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>1.</strong> Chọn k prototypes
                    <br><strong>2.</strong> Gán điểm theo mixed distance
                    <br><strong>3.</strong> Cập nhật prototypes:
                    <br>&nbsp;&nbsp;• Numerical: mean
                    <br>&nbsp;&nbsp;• Categorical: mode
                    <br><strong>4.</strong> Hội tụ → dừng
                </div>
                
                <h3>Cost Function</h3>
                <div class="formula">
                    E = Σ(l=1 to k) Σ(X ∈ Cl) [d_num(X, Ql) + γ × d_cat(X, Ql)]
                </div>
            </div>
        </div>

        <!-- Slide 23 -->
        <div class="slide">
            <h2>22. So sánh K-means/modes/prototypes</h2>
            <div class="content">
                <table style="font-size: 0.8em;">
                    <thead>
                        <tr>
                            <th>Đặc điểm</th>
                            <th>K-means</th>
                            <th>K-modes</th>
                            <th>K-prototypes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Dữ liệu</td>
                            <td>Numerical</td>
                            <td>Categorical</td>
                            <td>Mixed</td>
                        </tr>
                        <tr>
                            <td>Center</td>
                            <td>Mean</td>
                            <td>Mode</td>
                            <td>Prototype</td>
                        </tr>
                        <tr>
                            <td>Distance</td>
                            <td>Euclidean</td>
                            <td>Matching</td>
                            <td>Euclidean+Matching</td>
                        </tr>
                        <tr>
                            <td>Tốc độ</td>
                            <td>Nhanh</td>
                            <td>Nhanh</td>
                            <td>TB</td>
                        </tr>
                        <tr>
                            <td>Ứng dụng</td>
                            <td>IoT, Financial</td>
                            <td>Survey</td>
                            <td>Customer Analytics</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="note" style="margin-top: 15px;">
                    <strong>Chọn:</strong> Chỉ số → K-means | Chỉ categorical → K-modes | Mixed → K-prototypes
                </div>
            </div>
        </div>

        <!-- Slide 24 -->
        <div class="slide">
            <div class="section-header">PHẦN 3: ĐÁNH GIÁ CLUSTERING CHO KINH DOANH</div>
            <h2>23. Business Metrics</h2>
            <div class="content">
                <h3>Tại sao cần Business Metrics?</h3>
                <p>Metrics kỹ thuật không phản ánh giá trị kinh doanh thực.</p>
                
                <h3>Metrics quan trọng</h3>
                
                <div class="card">
                    <h3>1. Cluster Profitability</h3>
                    <div class="formula">
                        Profit_i = (Revenue_i - Cost_i) / |Cluster_i|
                        <br>Cluster nào lợi nhuận cao nhất?
                    </div>
                </div>
                
                <div class="card" style="margin-top: 15px;">
                    <h3>2. Customer Lifetime Value</h3>
                    <div class="formula">
                        CLV_i = Avg(Revenue × Retention × Time)
                        <br>Cluster có giá trị lâu dài nhất
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 25 -->
        <div class="slide">
            <h2>24. Actionability & Stability</h2>
            <div class="content">
                <h3>3. Cluster Actionability</h3>
                <ul>
                    <li><strong>Định nghĩa:</strong> Cluster rõ ràng, dễ diễn giải, có thể triển khai chiến lược</li>
                    <li><strong>Đánh giá:</strong> Size hợp lý? Đặc điểm rõ? Có thể targeting?</li>
                </ul>
                
                <div class="card" style="margin: 15px 0;">
                    <strong>Ví dụ:</strong>
                    <br>✓ Tốt: "Nữ 25-35, thu nhập cao, mua online"
                    <br>✗ Kém: "Khách hàng hỗn tạp, không có pattern"
                </div>
                
                <h3>4. Cluster Stability</h3>
                <div class="formula">
                    Stability = Agreement(Clustering_t1, Clustering_t2)
                    <br><br>
                    Đo: Adjusted Rand Index hoặc % điểm không đổi
                    <br>Mục tiêu: Ổn định qua thời gian
                </div>
            </div>
        </div>

        <!-- Slide 26 -->
        <div class="slide">
            <h2>25. Business Impact Metrics</h2>
            <div class="content">
                <h3>5. Conversion Rate</h3>
                <div class="formula">
                    Conversion_i = (Số KH mua / Tổng KH) × 100%
                    <br>Cluster nào conversion cao nhất?
                </div>
                
                <h3>6. Churn Rate</h3>
                <div class="formula">
                    Churn_i = (Số KH rời / Tổng KH) × 100%
                    <br>Focus retention vào cluster churn cao
                </div>
                
                <h3>Framework đánh giá</h3>
                <div class="grid-2" style="margin-top: 15px;">
                    <div class="card">
                        <strong>Technical:</strong>
                        <br>• Silhouette
                        <br>• Davies-Bouldin
                        <br>• Separation
                    </div>
                    <div class="card">
                        <strong>Business:</strong>
                        <br>• Profitability
                        <br>• CLV, Conversion
                        <br>• Actionability
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 27 -->
        <div class="slide">
            <div class="section-header">PHẦN 4: KỸ NĂNG DATA SCIENCE TRONG MARKETING</div>
            <h2>26. Kỹ năng Technical</h2>
            <div class="content">
                <h3>1. Programming & Data</h3>
                <div class="grid-2">
                    <div class="card">
                        <strong>Python/R:</strong>
                        <ul style="font-size: 0.8em;">
                            <li>Pandas: manipulation</li>
                            <li>Scikit-learn: ML</li>
                            <li>Matplotlib: viz</li>
                            <li>Statsmodels: stats</li>
                        </ul>
                    </div>
                    <div class="card">
                        <strong>SQL:</strong>
                        <ul style="font-size: 0.8em;">
                            <li>Query customer data</li>
                            <li>Join transactions</li>
                            <li>Aggregate metrics</li>
                            <li>Window functions</li>
                        </ul>
                    </div>
                </div>
                
                <h3>2. Machine Learning</h3>
                <ul>
                    <li><strong>Clustering:</strong> Phân khúc KH</li>
                    <li><strong>Classification:</strong> Churn, propensity</li>
                    <li><strong>Regression:</strong> Demand forecast, pricing</li>
                    <li><strong>Recommendation:</strong> Product recommendation</li>
                </ul>
            </div>
        </div>

        <!-- Slide 28 -->
        <div class="slide">
            <h2>27. Kỹ năng Business & Analytics</h2>
            <div class="content">
                <h3>3. Marketing Domain</h3>
                <div class="card" style="margin: 15px 0;">
                    <strong>Customer Journey:</strong>
                    <br>Awareness → Consideration → Purchase → Retention → Advocacy
                    <br><strong>Metrics:</strong> CTR, Conversion, CAC, LTV, ROAS
                </div>
                
                <h3>4. A/B Testing</h3>
                <ul>
                    <li>Thiết kế experiments (test/control)</li>
                    <li>Statistical significance (t-test, chi-square)</li>
                    <li>Sample size calculation</li>
                    <li>Đánh giá impact và ROI</li>
                </ul>
                
                <h3>5. Marketing Mix Modeling</h3>
                <ul>
                    <li>Attribution: Kênh nào đóng góp nhiều?</li>
                    <li>Budget optimization</li>
                    <li>Channel effectiveness</li>
                </ul>
            </div>
        </div>

        <!-- Slide 29 -->
        <div class="slide">
            <h2>28. Soft Skills & Tools</h2>
            <div class="content">
                <h3>6. Data Storytelling</h3>
                <ul>
                    <li><strong>Kể chuyện:</strong> Insights → recommendations → actions</li>
                    <li><strong>Tools:</strong> Tableau, Power BI, Data Studio</li>
                    <li><strong>Dashboard:</strong> KPIs rõ, actionable, real-time</li>
                    <li><strong>Presentation:</strong> Communicate với non-technical</li>
                </ul>
                
                <h3>7. Business Acumen</h3>
                <div class="grid-2" style="margin-top: 15px;">
                    <div class="card">
                        <strong>Tư duy:</strong>
                        <br>• Hiểu mục tiêu business
                        <br>• Data → actions
                        <br>• ROI-driven
                        <br>• Prioritize
                    </div>
                    <div class="card">
                        <strong>Collaboration:</strong>
                        <br>• Marketing team
                        <br>• Sales, Product
                        <br>• Stakeholder mgmt
                        <br>• Agile/Scrum
                    </div>
                </div>
                
                <div class="note" style="margin-top: 15px;">
                    <strong>Kết luận:</strong> Cần cân bằng Technical + Business + Communication
                </div>
            </div>
        </div>

        <!-- Slide 30 -->
        <div class="slide slide-title">
            <h1>Tổng kết</h1>
            <div style="text-align: left; max-width: 900px; margin: 40px auto; font-size: 1.2em;">
                <p style="margin: 20px 0;">✓ <strong>Phần 1:</strong> 10 phương pháp đánh giá số cluster tối ưu</p>
                <p style="margin: 20px 0;">✓ <strong>Phần 2:</strong> Mean-Shift, K-modes, K-prototypes</p>
                <p style="margin: 20px 0;">✓ <strong>Phần 3:</strong> Business metrics cho clustering</p>
                <p style="margin: 20px 0;">✓ <strong>Phần 4:</strong> Kỹ năng Data Science cho Marketing</p>
            </div>
            <p style="font-size: 1.3em; margin-top: 50px;">Cảm ơn các bạn!</p>
        </div>

        <div class="controls">
            <button onclick="prevSlide()">← Trước</button>
            <button onclick="nextSlide()">Sau →</button>
        </div>
        
        <div class="slide-number" id="slideNumber">1 / 30</div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            document.getElementById('slideNumber').textContent = (currentSlide + 1) + ' / ' + totalSlides;
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function prevSlide() {
            showSlide(currentSlide - 1);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });
    </script>
</body>
</html>
