<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¥ng c·ª• t·∫°o Slide t·ª´ Markdown</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .editor-panel {
            width: 40%;
            background: #2d2d2d;
            display: flex;
            flex-direction: column;
            border-right: 3px solid #444;
        }

        .toolbar {
            background: #1e1e1e;
            padding: 15px;
            border-bottom: 1px solid #444;
        }

        .toolbar h2 {
            color: #fff;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .toolbar-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 500;
        }

        .btn-primary {
            background: #0066cc;
            color: white;
        }

        .btn-primary:hover {
            background: #0052a3;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .theme-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .theme-selector label {
            color: #ccc;
            font-size: 14px;
        }

        .theme-selector select {
            padding: 6px 10px;
            border-radius: 4px;
            border: 1px solid #555;
            background: #3d3d3d;
            color: #fff;
            cursor: pointer;
        }

        #markdown-input {
            flex: 1;
            padding: 20px;
            background: #2d2d2d;
            color: #f8f8f2;
            border: none;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            resize: none;
            line-height: 1.6;
        }

        #markdown-input:focus {
            outline: none;
        }

        .preview-panel {
            flex: 1;
            background: #fff;
            position: relative;
            overflow: hidden;
        }

        .reveal {
            height: 100%;
        }

        .example-text {
            color: #888;
            font-style: italic;
            padding: 20px;
            text-align: center;
        }

        .reveal h1, .reveal h2, .reveal h3 {
            text-transform: none;
        }

        .reveal pre {
            width: 100%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .reveal code {
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .status-bar {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }

        .instructions {
            background: #1e1e1e;
            color: #ccc;
            padding: 15px;
            font-size: 12px;
            border-top: 1px solid #444;
        }

        .instructions h3 {
            color: #fff;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .instructions ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .instructions code {
            background: #3d3d3d;
            padding: 2px 6px;
            border-radius: 3px;
            color: #f8f8f2;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .editor-panel {
                width: 100%;
                height: 50vh;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="editor-panel">
            <div class="toolbar">
                <h2>üìù So·∫°n n·ªôi dung Markdown</h2>
                <div class="toolbar-buttons">
                    <button class="btn btn-primary" onclick="updateSlides()">‚ñ∂Ô∏è C·∫≠p nh·∫≠t Slide</button>
                    <button class="btn btn-success" onclick="downloadHTML()">üíæ T·∫£i HTML</button>
                    <button class="btn btn-secondary" onclick="loadExample()">üìÑ V√≠ d·ª• m·∫´u</button>
                </div>
                <div class="theme-selector">
                    <label>Theme:</label>
                    <select id="theme-select" onchange="changeTheme()">
                        <option value="white">White</option>
                        <option value="black">Black</option>
                        <option value="league">League</option>
                        <option value="beige">Beige</option>
                        <option value="sky">Sky</option>
                        <option value="night">Night</option>
                        <option value="serif">Serif</option>
                        <option value="simple">Simple</option>
                        <option value="solarized">Solarized</option>
                        <option value="moon">Moon</option>
                    </select>
                </div>
            </div>
            
            <textarea id="markdown-input" placeholder="Nh·∫≠p n·ªôi dung Markdown c·ªßa b·∫°n t·∫°i ƒë√¢y...

V√≠ d·ª•:
# Ti√™u ƒë·ªÅ b√†i gi·∫£ng

---

## Slide ƒë·∫ßu ti√™n
- ƒêi·ªÉm 1
- ƒêi·ªÉm 2

---

## Slide th·ª© hai
N·ªôi dung chi ti·∫øt..."></textarea>

            <div class="instructions">
                <h3>üìñ H∆∞·ªõng d·∫´n nhanh:</h3>
                <ul>
                    <li><code>---</code> ƒë·ªÉ t·∫°o slide m·ªõi (ngang)</li>
                    <li><code>--</code> ƒë·ªÉ t·∫°o slide con (d·ªçc)</li>
                    <li><code># ## ###</code> cho ti√™u ƒë·ªÅ c√°c c·∫•p</li>
                    <li>H·ªó tr·ª£ code, h√¨nh ·∫£nh, b·∫£ng bi·ªÉu</li>
                    <li>Ph√≠m m≈©i t√™n ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng slide</li>
                </ul>
            </div>
        </div>

        <div class="preview-panel">
            <div class="reveal">
                <div class="slides" id="slides-container">
                    <section>
                        <h2>Ch√†o m·ª´ng! üëã</h2>
                        <p>Nh·∫≠p n·ªôi dung Markdown b√™n tr√°i v√† nh·∫•n "C·∫≠p nh·∫≠t Slide"</p>
                        <p style="margin-top: 30px; font-size: 0.8em; color: #666;">
                            S·ª≠ d·ª•ng ph√≠m m≈©i t√™n ‚Üê‚Üí‚Üë‚Üì ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng
                        </p>
                    </section>
                </div>
            </div>
            <div class="status-bar">
                Nh·∫•n "C·∫≠p nh·∫≠t Slide" ƒë·ªÉ xem preview
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/markdown/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/notes/notes.min.js"></script>

    <script>
        let revealInstance;

        // Kh·ªüi t·∫°o Reveal.js
        function initReveal() {
            if (revealInstance) {
                revealInstance.destroy();
            }
            
            revealInstance = new Reveal({
                hash: true,
                controls: true,
                progress: true,
                center: true,
                transition: 'slide',
                plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
            });
            
            revealInstance.initialize();
        }

        // Kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu
        initReveal();

        // C·∫≠p nh·∫≠t slides t·ª´ Markdown
        function updateSlides() {
            const markdown = document.getElementById('markdown-input').value;
            
            if (!markdown.trim()) {
                alert('Vui l√≤ng nh·∫≠p n·ªôi dung Markdown!');
                return;
            }

            const slides = markdown.split(/\n---\n/);
            let htmlContent = '';

            slides.forEach(slide => {
                const verticalSlides = slide.split(/\n--\n/);
                
                if (verticalSlides.length > 1) {
                    htmlContent += '<section>';
                    verticalSlides.forEach(vSlide => {
                        htmlContent += `<section data-markdown><textarea data-template>${vSlide}</textarea></section>`;
                    });
                    htmlContent += '</section>';
                } else {
                    htmlContent += `<section data-markdown><textarea data-template>${slide}</textarea></section>`;
                }
            });

            document.getElementById('slides-container').innerHTML = htmlContent;
            initReveal();
            
            document.querySelector('.status-bar').textContent = `‚úì ƒê√£ t·∫°o ${slides.length} slide`;
        }

        // ƒê·ªïi theme
        function changeTheme() {
            const theme = document.getElementById('theme-select').value;
            const themeLink = document.getElementById('theme');
            themeLink.href = `https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/${theme}.min.css`;
        }

        // T·∫£i v√≠ d·ª• m·∫´u
        function loadExample() {
            const example = '# B√†i gi·∫£ng m·∫´u\n## L·∫≠p tr√¨nh Python c∆° b·∫£n\n\nGi·∫£ng vi√™n: [T√™n c·ªßa b·∫°n]\n\n---\n\n## N·ªôi dung b√†i h·ªçc\n\n1. Gi·ªõi thi·ªáu Python\n2. Bi·∫øn v√† ki·ªÉu d·ªØ li·ªáu\n3. C·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn\n4. H√†m v√† Module\n\n---\n\n## Gi·ªõi thi·ªáu Python\n\n- Python l√† ng√¥n ng·ªØ l·∫≠p tr√¨nh b·∫≠c cao\n- D·ªÖ h·ªçc, d·ªÖ ƒë·ªçc\n- ·ª®ng d·ª•ng r·ªông r√£i: Web, AI, Data Science\n\n```python\nprint("Hello, World!")\n```\n\n---\n\n## Bi·∫øn v√† ki·ªÉu d·ªØ li·ªáu\n\n### Khai b√°o bi·∫øn\n\n```python\n# S·ªë nguy√™n\nage = 25\n\n# Chu·ªói\nname = "Nguy·ªÖn VƒÉn A"\n\n# S·ªë th·ª±c\nheight = 1.75\n```\n\n--\n\n### C√°c ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n\n\n| Ki·ªÉu | V√≠ d·ª• | M√¥ t·∫£ |\n|------|-------|-------|\n| int | 42 | S·ªë nguy√™n |\n| float | 3.14 | S·ªë th·ª±c |\n| str | "Hello" | Chu·ªói |\n| bool | True | Logic |\n\n---\n\n## C·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn\n\n### C√¢u l·ªánh if\n\n```python\nage = 18\n\nif age >= 18:\n    print("ƒê√£ ƒë·ªß tu·ªïi")\nelse:\n    print("Ch∆∞a ƒë·ªß tu·ªïi")\n```\n\n--\n\n### V√≤ng l·∫∑p for\n\n```python\nfruits = ["t√°o", "chu·ªëi", "cam"]\n\nfor fruit in fruits:\n    print(fruit)\n```\n\n---\n\n## B√†i t·∫≠p\n\n1. Vi·∫øt ch∆∞∆°ng tr√¨nh t√≠nh t·ªïng c√°c s·ªë t·ª´ 1 ƒë·∫øn 100\n2. T·∫°o h√†m ki·ªÉm tra s·ªë nguy√™n t·ªë\n3. In ra b·∫£ng c·ª≠u ch∆∞∆°ng\n\n---\n\n## T√†i li·ªáu tham kh·∫£o\n\n- [Python.org](https://python.org)\n- [W3Schools Python](https://w3schools.com/python)\n- S√°ch: "Learning Python" - Mark Lutz\n\n---\n\n## C·∫£m ∆°n! üôè\n\n### C√¢u h·ªèi?\n\nEmail: your-email@example.com  \nGitHub: github.com/yourname';

            document.getElementById('markdown-input').value = example;
            updateSlides();
        }

        // T·∫£i file HTML ho√†n ch·ªânh
        function downloadHTML() {
            const markdown = document.getElementById('markdown-input').value;
            
            if (!markdown.trim()) {
                alert('Vui l√≤ng nh·∫≠p n·ªôi dung Markdown tr∆∞·ªõc!');
                return;
            }

            const theme = document.getElementById('theme-select').value;
            
            const htmlTemplate = `<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i gi·∫£ng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/${theme}.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai.min.css">
    <style>
        .reveal h1, .reveal h2, .reveal h3 {
            text-transform: none;
        }
        .reveal pre {
            width: 100%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
${generateSlidesHTML(markdown)}
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/markdown/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/notes/notes.min.js"></script>
    
    <script>
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: true,
            transition: 'slide',
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
    </script>
</body>
</html>`;

            const blob = new Blob([htmlTemplate], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'slides.html';
            a.click();
            URL.revokeObjectURL(url);
            
            alert('‚úì ƒê√£ t·∫£i file slides.html!\n\nB·∫°n c√≥ th·ªÉ:\n1. M·ªü tr·ª±c ti·∫øp file ƒë·ªÉ xem\n2. Upload l√™n GitHub Pages\n3. Chia s·∫ª cho sinh vi√™n');
        }

        function generateSlidesHTML(markdown) {
            const slides = markdown.split(/\n---\n/);
            let html = '';

            slides.forEach(slide => {
                const verticalSlides = slide.split(/\n--\n/);
                
                if (verticalSlides.length > 1) {
                    html += '            <section>\n';
                    verticalSlides.forEach(vSlide => {
                        html += `                <section data-markdown>\n                    <textarea data-template>\n${vSlide}\n                    </textarea>\n                </section>\n`;
                    });
                    html += '            </section>\n';
                } else {
                    html += `            <section data-markdown>\n                <textarea data-template>\n${slide}\n                </textarea>\n            </section>\n`;
                }
            });

            return html;
        }

        // Keyboard shortcuts
        document.getElementById('markdown-input').addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                updateSlides();
            }
        });
    </script>
</body>
</html>
